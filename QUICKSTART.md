# Быстрый старт

## 1. Установка зависимостей

```bash
npm install
```

## 2. Настройка базы данных

Создайте базу данных PostgreSQL:

```sql
CREATE DATABASE crm_db;
```

## 3. Настройка .env файла

Создайте файл `.env` в корне проекта:

```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=crm_db
DB_USER=postgres
DB_PASSWORD=your_password
PORT=5000
NODE_ENV=development
JWT_SECRET=your-secret-key-change-in-production
```

## 4. Создание первого администратора

```bash
npm run create-admin
```

Или с параметрами:

```bash
npm run create-admin admin@example.com password123 "Имя Администратора"
```

## 5. Запуск сервера

```bash
npm start
```

Сервер будет доступен на `http://localhost:5000`

## 6. Вход в систему

1. Откройте браузер и перейдите на `http://localhost:5000`
2. Войдите используя email и пароль, указанные при создании администратора
3. Начните работу с системой!

## Основные функции

- **Клиенты** - управление клиентами (школьники/родители)
- **Олимпиады** - создание и управление олимпиадами
- **Таймер** - учет рабочего времени сотрудников
- **Отчеты** - аналитика и экспорт данных
- **Сотрудники** - управление сотрудниками и ролями

## Роли пользователей

- **director** - Директор (полный доступ)
- **vice_director** - Зам. директора (отчеты + контроль менеджеров)
- **manager** - Менеджер (работа с клиентами)
- **marketer** - Маркетолог (доступ к лидам)
- **programmer** - Программист (технический доступ)

## API Документация

Все API endpoints требуют аутентификации через JWT токен (кроме `/api/auth/login`).

Токен передается в заголовке:
```
Authorization: Bearer <token>
```

Или через cookie (автоматически при использовании веб-интерфейса).

## Решение проблем

### Ошибка подключения к БД
- Проверьте настройки в `.env`
- Убедитесь, что PostgreSQL запущен
- Проверьте права доступа пользователя БД

### Ошибка "Модели не синхронизированы"
- Убедитесь, что база данных создана
- Проверьте подключение к БД
- Сервер автоматически создаст таблицы при первом запуске

### Ошибка аутентификации
- Убедитесь, что создан администратор
- Проверьте правильность email и пароля
- Проверьте JWT_SECRET в `.env`

